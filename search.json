[
  {
    "objectID": "IntroduzioneR.html",
    "href": "IntroduzioneR.html",
    "title": "R: Introduzione",
    "section": "",
    "text": "R è un linguaggio di programmazione open source utilizzato per l’analisi e visualizzazione dei dati.\nR è la versione open source di S, software sviluppato da John Chambers e colleghi presso i Bell Laboratories di AT&T alla fine degli anni ’70. Nell’idea del suo creatore S doveva essere un linguaggio di programmazione per l’analisi dei dati che fosse più semplice e più interattivo rispetto ai linguaggi esistenti dell’epoca, come FORTRAN e SAS.\nR fu sviluppato inizialmente da Ross Ihaka e Robert Gentleman presso l’Università di Auckland, in Nuova Zelanda. La prima versione di R venne condivisa dai sui creatori nel 1993. Nel 1995 il software fu rilasciato sotto la licenza open source GNU GPL.\nLa versione 1.0 è stata rilasciata il 29 febbraio 2000 e da quel momento la crescita in popolarità non si è mai arrestata.\nNegli ultimi dieci anni, due aziende hanno contribuito alla crescita di R: R Studio (oggi diventata Posit) e Revolution Analytics.\nRevolution Analytics fondata nel 2007, è stata una delle prime società ad offrire una versione commerciale di R. Revolution Analytics ha introdotto nuove funzionalità, come l’elaborazione parallela e distribuita, che hanno permesso di elaborare grandi quantità di dati in modo più efficiente.\nL’acquisizione di Revolution Analytics da parte di Microsoft nel 2015 ha ulteriormente rafforzato l’adozione di R, poiché Microsoft ha iniziato ad integrare R in molti dei suoi prodotti, come SQL Server e Power BI.\nRStudio è stata fondata nel 2011 da JJ Allaire ed ha cambiato nome in Posit nel 2022. RStudio ha creato un ambiente di sviluppo integrato (IDE) per R, chiamato appunto RSudio, che semplifica lo sviluppo di codice R, la gestione dei pacchetti e la creazione di grafici. RSudio è diventato uno strumento fondamentale per molti utenti R, poiché semplifica notevolmente il processo di sviluppo e di debugging.\nRStudio ha inoltre creato e mantiene pacchetti importanti come ggplot2() e dplyr(), che hanno migliorato notevolmente la capacità di R per la visualizzazione dei dati e la manipolazione dei dati.\nR è oggi uno dei linguaggi di programmazione più popolari per l’analisi dei dati e la statistica negli ultimi anni. Ecco alcuni dati sull’adozione di R:\n\nNumero di utenti: Secondo un sondaggio del 2022 condotto da Stack Overflow R è uno dei linguaggi di programmazione più popolare al mondo, utilizzato dal 4.7% degli sviluppatori. Nella lista è il primo software ad essere specificatamente pensato per applicazioni statistiche.\nNumero di pacchetti: Il Comprehensive R Archive Network (CRAN), il principale repository di pacchetti per R, contiene oltre 19.000 pacchetti. Questi pacchetti coprono una vasta gamma di applicazioni che vanno dalla statistica al machine learning, dalla visualizzazione e manipolazione dei dati alla stesura automatica di report, e altri task generici e non necessariamente legati alle applicazioni di carattere statistico.\nPopolarità dei pacchetti: ggplot2 (per la visualizzazione dei dati) e dplyr (per la manipolazione dei dati) sono fra i pacchetti più popolari.\nUso aziendale: L’adozione di R nell’ambiente aziendale è aumentata negli ultimi anni, con molte aziende che lo utilizzano per l’analisi dei dati e la statistica.\n\nIn generale, R è diventato un linguaggio di programmazione popolare tra i data scientist, gli statistici e gli analisti dei dati grazie alla sua vasta gamma di pacchetti, alla sua flessibilità e alla sua potenza nell’analisi dei dati."
  },
  {
    "objectID": "IntroduzioneR.html#installazione-di-r-e-rstudio",
    "href": "IntroduzioneR.html#installazione-di-r-e-rstudio",
    "title": "R: Introduzione",
    "section": "Installazione di R e Rstudio",
    "text": "Installazione di R e Rstudio\nPer iniziare ad utilizzare R, è necessario installare il software. R può essere scaricato gratuitamente dal sito ufficiale (www.r-project.org/) scegliendo la versione adatta al sistema operativo utilizzato.\nPer installare RStudio sul tuo computer basta visitare https://posit.co/download/rstudio-desktop/, scaricare la versione di RStudio Desktop compatibile con il sistema operativo e seguire le istruzioni per completare l’installazione."
  },
  {
    "objectID": "IntroduzioneR.html#installazione-di-pacchetti",
    "href": "IntroduzioneR.html#installazione-di-pacchetti",
    "title": "R: Introduzione",
    "section": "Installazione di pacchetti",
    "text": "Installazione di pacchetti\nPer utilizzare pacchetti aggiuntivi come ggplot2 e dplyr, è necessario installarli utilizzando il comando install.packages() seguito dal nome del pacchetto da installare.\nAd esempio, per installare il pacchetto ggplot2, bisogna digitare il seguente comando nella console R:\n\ninstall.packages(\"ggplot2\")\n\nPer installare dplyr bisogna usare il seguente comando:\n\ninstall.packages(\"ggplot2\")\n\nUn pacchetto particolarmente utile poiché contiene parecchi dataset di carattere economico, è Ecdat. Può essere installato mediante il seguente comando:\n\ninstall.packages(\"Ecdat\")\n\nAlternativamente, i pacchetti possono essere installati direttamente da RStudio usando il menu Tools (Strumenti)."
  },
  {
    "objectID": "IntroduzioneR.html#caricamento-pacchetti",
    "href": "IntroduzioneR.html#caricamento-pacchetti",
    "title": "R: Introduzione",
    "section": "Caricamento pacchetti",
    "text": "Caricamento pacchetti\nL’installazione rende disponibili i pacchetti sul proprio computer. Perché R possa utilizzare le funzionalità del pacchetto è necessario caricare i pacchetti utilizzando il comando library(). Ad esempio, per caricare il pacchetto Ecdat bisogna eseguire il seguente comando nella console R:\n\nlibrary(Ecdat)"
  },
  {
    "objectID": "IntroduzioneR.html#i-dataset-di-ecdat",
    "href": "IntroduzioneR.html#i-dataset-di-ecdat",
    "title": "R: Introduzione",
    "section": "I dataset di Ecdat",
    "text": "I dataset di Ecdat\nPer avere un’idea dei dataset messi a disposizione da Ecdat possiamo utilizzare la funzione di help\n\nhelp(package=\"Ecdat\")\n\n\n\n\n\n\n\nNote\n\n\n\nIl sistema di help di R è un’importante risorsa per gli utenti che utilizzano questo software. Consente di accedere a informazioni dettagliate su tutte le funzioni e i pacchetti di R, nonché di comprendere meglio il funzionamento del linguaggio di programmazione R.\nOgni funzione in R ha la sua pagina di help, alla quale si può accedere tramite la funzione help() o tramite il simbolo ? seguito dal nome della funzione. Per esempio\n\nhelp(mean)\n\napre la pagina di help relativa alla funzione mean.\nLa pagina di help fornisce una descrizione della funzione, i suoi argomenti e tipologia dei valori che la funzione restituisce. Inoltre, la maggior parte delle funzioni in R hanno esempi di utilizzo nella loro pagina di help.\nPer ottenere aiuto su un pacchetto e sulle sue funzionalità bisgna passare l’argomento packages seguito dal nome del pacchetto. Per esempio, il seguente comando mostra la pagina di help per il pacchetto ggplot2\n\nhelp(packages=\"ggplot2\")\n\n\n\nI dataset possono essere caricati nella sessione di R mediante il comando data(). Per esempio, il seguente comando\n\ndata(Caschool)\n\nrende disponibile il dataset Caschool. Il data set può essere richiamato semplicemente digitando il suo nome\n\nsummary(Caschool)\n\n    distcod              county                         district     grspan   \n Min.   :61382   Sonoma     : 29   Lakeside Union Elementary:  3   KK-06: 61  \n 1st Qu.:64308   Kern       : 27   Mountain View Elementary :  3   KK-08:359  \n Median :67760   Los Angeles: 27   Jefferson Elementary     :  2              \n Mean   :67473   Tulare     : 24   Liberty Elementary       :  2              \n 3rd Qu.:70419   San Diego  : 21   Ocean View Elementary    :  2              \n Max.   :75440   Santa Clara: 20   Pacific Union Elementary :  2              \n                 (Other)    :272   (Other)                  :406              \n    enrltot           teachers          calwpct          mealpct      \n Min.   :   81.0   Min.   :   4.85   Min.   : 0.000   Min.   :  0.00  \n 1st Qu.:  379.0   1st Qu.:  19.66   1st Qu.: 4.395   1st Qu.: 23.28  \n Median :  950.5   Median :  48.56   Median :10.520   Median : 41.75  \n Mean   : 2628.8   Mean   : 129.07   Mean   :13.246   Mean   : 44.71  \n 3rd Qu.: 3008.0   3rd Qu.: 146.35   3rd Qu.:18.981   3rd Qu.: 66.86  \n Max.   :27176.0   Max.   :1429.00   Max.   :78.994   Max.   :100.00  \n                                                                      \n    computer         testscr         compstu           expnstu    \n Min.   :   0.0   Min.   :605.5   Min.   :0.00000   Min.   :3926  \n 1st Qu.:  46.0   1st Qu.:640.0   1st Qu.:0.09377   1st Qu.:4906  \n Median : 117.5   Median :654.5   Median :0.12546   Median :5215  \n Mean   : 303.4   Mean   :654.2   Mean   :0.13593   Mean   :5312  \n 3rd Qu.: 375.2   3rd Qu.:666.7   3rd Qu.:0.16447   3rd Qu.:5601  \n Max.   :3324.0   Max.   :706.8   Max.   :0.42083   Max.   :7712  \n                                                                  \n      str            avginc           elpct           readscr     \n Min.   :14.00   Min.   : 5.335   Min.   : 0.000   Min.   :604.5  \n 1st Qu.:18.58   1st Qu.:10.639   1st Qu.: 1.941   1st Qu.:640.4  \n Median :19.72   Median :13.728   Median : 8.778   Median :655.8  \n Mean   :19.64   Mean   :15.317   Mean   :15.768   Mean   :655.0  \n 3rd Qu.:20.87   3rd Qu.:17.629   3rd Qu.:22.970   3rd Qu.:668.7  \n Max.   :25.80   Max.   :55.328   Max.   :85.540   Max.   :704.0  \n                                                                  \n    mathscr     \n Min.   :605.4  \n 1st Qu.:639.4  \n Median :652.5  \n Mean   :653.3  \n 3rd Qu.:665.9  \n Max.   :709.5"
  },
  {
    "objectID": "IntroduzioneR.html#primi-grafici-con-ggplot2",
    "href": "IntroduzioneR.html#primi-grafici-con-ggplot2",
    "title": "R: Introduzione",
    "section": "Primi grafici con ggplot2",
    "text": "Primi grafici con ggplot2\nI passi per ottenere un grafico con ggplot2 sono:\n\nInstallare e caricare il pacchetto ggplot2 utilizzando il comando install.packages(\"ggplot2\") seguito da library(ggplot2).\nCaricare i dati che si desidera visualizzare in un data frame.\nCreare un oggetto ggplot utilizzando la funzione ggplot(). Gli argomenti di questa funzione sono il data.frame e la funzione aes mediante la quale possono essere specificate le variabili che si desidera utilizzare per l’asse x e l’asse y.\nAggiungere i livelli e gli stili al grafico utilizzando una serie di geometrie come geom_point(), geom_line(), geom_bar(). Queste funzioni definiscono le modalità di rappresentazione dei dati nel grafico (ad esempio, con punti, linee, barre, ecc.).\nAggiungere etichette, titoli e altre personalizzazioni utilizzando funzioni come labs(), xlab(), ylab(), ggtitle() e altre funzioni di personalizzazione.\n\nEcco un esempio di codice di base per creare un grafico a dispersione utilizzando ggplot2:\n\nlibrary(ggplot2)\n# Caricare i dati\ndata(Caschool)\n# Creare l'oggetto ggplot\nscatterplot &lt;- ggplot(Caschool, aes(x = str, y = testscr))\n# Aggiungere i punti al grafico\nscatterplot &lt;- scatterplot + geom_point(col = \"darkgreen\")\n# Aggiungere etichette e titoli\nscatterplot &lt;- scatterplot +\n  labs(title = \"Grafico a dispersione - testscr/str\",\n      x = \"Rapporto studenti insegnanti\", y = \"Punteggi nei test\")\n# Visualizzare il grafico\nscatterplot\n\n\n\n\nQuesto è solo un esempio molto semplice, ma ggplot2 offre molte altre funzionalità per la creazione di grafici avanzati e personalizzati. Per esempio, possiamo cambiare il tema grafico usando theme_bw() che elimina i colori\n\nscatterplot &lt;- scatterplot + theme_bw()\nscatterplot\n\n\n\n\nPossiamo anche costruire grafici raggruppati per variabile. Per ottenere un grafico a dispersione per str e testscr per le due tipologie di scuole grspan==\"KK-06\" egrspan=“KK-08”`:\n\nscatterplot &lt;- scatterplot + facet_wrap(~grspan)\nscatterplot\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nLa funzione facet_wrap() in ggplot2 è utilizzata per dividere i dati in sottoinsiemi basati su una variabile e creare una griglia di grafici separati, ognuno dei quali visualizza i dati per uno dei livelli della variabile.\nLa sintassi di base di facet_wrap() è la seguente:\n\nfacet_wrap(~variable, nrow = x, ncol = y)\n\nDove variable è la variabile che si vuole utilizzare per suddividere i dati in sottoinsiemi (nell precedente esempio abbiamo utilizzato `),nrowencol` specificano il numero di righe e colonne della griglia di grafici che si desidera creare.\n\n\nPossiamo anche aggiungere le rette di regression a ciascun grafico usando la geometria geom_smooth\n\nscatterplot + geom_smooth(method=\"lm\", col = \"darkred\")\n\n`geom_smooth()` using formula = 'y ~ x'"
  },
  {
    "objectID": "IntroduzioneR.html#prime-manipolazione-di-dati-usando-dplyr",
    "href": "IntroduzioneR.html#prime-manipolazione-di-dati-usando-dplyr",
    "title": "R: Introduzione",
    "section": "Prime manipolazione di dati usando dplyr",
    "text": "Prime manipolazione di dati usando dplyr\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCalcoliamo la media e la standard deviation di testscr\n\nCaschool |&gt;\n  summarize(m = mean(testscr), s = sd(testscr))\n\n         m        s\n1 654.1565 19.05335\n\n\nPossiamo anche calcolare la media, la standard deviation e il numero di osservazioni per il gruppo di scuole che hanno un rapporto studenti insegnanti minore di 20, \\(str&lt;20\\) e il gruppo di scuole che hanno un rapporto maggiore o uguale a venti (\\(str&gt;20\\)) usando la funzione group_by seguita dall’indicazione del gruppo (nel nostro caso str&lt;20):\n\ndf_1 &lt;- Caschool |&gt;\n  group_by(str&lt;20) |&gt;\n  summarize(m = mean(testscr),\n            s = sd(testscr),\n            n = n())\n\nIl risultato delle manipolazioni è un tibble — un sorta di data.frame più flessibile definito nel pacchetto dplyr.\ndf_1 può essere a sua volta utilizzato per altri calcoli e si comporta in tutto e per tutto come un normale data.frame.\n\ndf_1\n\n# A tibble: 2 × 4\n  `str &lt; 20`     m     s     n\n  &lt;lgl&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;\n1 FALSE       650.  17.9   182\n2 TRUE        657.  19.4   238\n\n\n\n\n\n\n\n\nNote\n\n\n\nLe maggiori differenze fra i tibble e i data.frame sono:\n\nTipo di output: Il metodo di visualizzazione di un tibble è più compatto e leggibile rispetto a quello di un data.frame.\nComportamento dei nomi delle variabili: in un tibble, i nomi delle variabili sono sempre conservati e non vengono mai modificati (ad esempio, i nomi delle variabili non vengono convertiti in stringhe). In un data.frame, i nomi delle variabili possono essere modificati o convertiti in stringhe.\nComportamento di default dei dati mancanti: in un tibble, i dati mancanti vengono visualizzati in modo più chiaro rispetto a un data.frame.\nComportamento della subsetting: in un tibble, il subsetting (o l’estrazione di sottoinsiemi di dati) è più rigoroso rispetto a un data.frame, in quanto conserva sempre la classe del tibble, anche se viene restituito un singolo valore.\nFunzioni dplyr: un tibble è progettato per essere compatibile con le funzioni del pacchetto dplyr, che sono utilizzate per manipolare i dati.\n\nI tibble sono una versione leggermente migliorata dei tradizionali data.frame, progettata per semplificare l’analisi dei dati in R. Tuttavia, i data.frame sono ancora molto utilizzati e sono l’oggetto dati di base per molti pacchetti in R. Fortunatamente, molti dei comandi di R disegnati per i data.frame funzionano anche per i tibble.\n\n\nAbbiamo visto che una stima della differenza dei valori attesi fra i due gruppi \\[\n\\Delta = E(testscr|str&lt;20) - E(testscr|str\\geqslant20)\n\\] può essere ottenuta calcolando la differenza delle medie campionarie dei due gruppi e può essere ottenuta usando le informazioni in df_1:\n\n## Differenza delle medie campionarie\ndf_1$m[2]-df_1$m[1]\n\n[1] 7.37241\n\n\ne, quindi, \\[\n\\hat{\\Delta} = \\overline{testscr}_{str&lt;20} - \\overline{testscr}_{str\\geqslant20} = 7.3724101.\n\\]\nCon le stesse informazioni è possibile calcolare l’intervallo di confidenza al 95% per \\(\\Delta\\) che è dato da \\[\n\\hat{\\Delta}\\pm1.96\\times\\sqrt{\\frac{s_{str&lt;20}^{2}}{n_{str&lt;20}}+\\frac{s_{str\\geqslant20}^{2}}{n_{str\\geqslant20}}}.\n\\] Usando le informazioni contenute in df_1 otteniamo: \\[\n(3.7979806, 10.9468397)\n\\]"
  },
  {
    "objectID": "IntroduzioneR.html#qualcosa-di-più-complicato",
    "href": "IntroduzioneR.html#qualcosa-di-più-complicato",
    "title": "R: Introduzione",
    "section": "Qualcosa di più complicato",
    "text": "Qualcosa di più complicato\nInvece di stimare la variazione del valore atteso rispetto alle due macro-categorie (\\(str&lt;20\\) e \\(str\\geqslant20\\)) possiamo provare a stimare il valore atteso condizionatamente a piccoli intervalli. Per esempio, possiamo voler stimare la seguente differenza \\[\nE(testscr|20.1 &lt; str \\leqslant 20.6) - E(testscr|20.6 &lt; str \\leqslant 21.1)\n\\] oppure \\[\nE(testscr|21.6 &lt; str \\leqslant 22) - E(testscr|22 &lt; str \\leqslant 22.5).\n\\]\nPer stimare queste quantità utilizzando i dati nel campion, è necessario calcolare la media campionaria per le scuole che hanno un \\(str\\) che appartiene a ciascun intervallo. Per costruire questi intervalli, possiamo utilizzare la funzione cut(). La funzione cut() è utilizzata per suddividere un vettore numerico in più intervalli.\n\n\n\n\n\n\nNote\n\n\n\nLa sintassi della funzione cut() è la seguente:\n\ncut(x, breaks,\n       labels = NULL,\n       include.lowest = FALSE,\n       right = TRUE,\n       dig.lab = 3, ...)\n\ndove:\n\nx è il vettore numerico da suddividere in bin\nbreaks è un vettore contenente i valori di taglio, ovvero i punti di separazione tra i bin. Questo può essere specificato in diversi modi, ad esempio tramite un numero intero che specifica il numero di bin desiderati o un vettore numerico che specifica i limiti di ogni bin.\nlabels è un vettore di etichette per ogni bin. Se non specificato, gli intervalli saranno etichettati in base ai loro limiti.\ninclude.lowest indica se includere o meno il valore più basso del vettore x nel primo bin. Il valore predefinito è FALSE.\nright indica se i bin devono essere chiusi a destra o a sinistra. Il valore predefinito è TRUE, ovvero i bin sono chiusi a destra.\ndig.lab è il numero di cifre decimali da utilizzare per le etichette, se specificato.\n... sono altri argomenti opzionali.\n\n\n\nEcco un esempio di utilizzo della funzione cut() per suddividere str in tre bin di uguale ampiezza:\n\nstr_cat3 &lt;- cut(Caschool$str, 3)\nsummary(str_cat3)\n\n  (14,17.9] (17.9,21.9] (21.9,25.8] \n         73         305          42 \n\n\nIn questo caso il comando summary produce una tavola di frequenza con il numero delle scuole in ciascuna delle tre categorie (14,17.9], (17.9,21.9], (21.9,25.8].\nPossiamo anche specificare i breaks in modo esplicito\n\nstr_cat3 &lt;- cut(Caschool$str, c(13,20, 21, 26))\nsummary(str_cat3)\n\n(13,20] (20,21] (21,26] \n    243      86      91 \n\n\nIn questo ultimo caso, gli intervalli sono (13,20], (20,21], (21,26].\n\n\n\n\n\n\nNote\n\n\n\nstr_cat3 e, in generale, l’output di cut è un oggetto di classe factor. Questo tipo di variabili sono utilizzate per rappresentare variabili categoriche o qualitative, ovvero variabili che possono assumere un numero limitato di categorie o livelli (come il numero di intervalli nel nostro questo caso). La funzione summary() restituisce una tavola di frequenza per questo tipo di variabili perchè non avrebbe senso calcolare media, mediana e le altre quantità che sono solitamente restituita da summary quando l’argomento è una variabile di tipo numeric.\n\n\n\nlibrary(knitr)\n\ndf_2 &lt;- Caschool |&gt;\n1  mutate(str_cat = cut(str, 25)) |&gt;\n2  group_by(str_cat) |&gt;\n3  summarize(m = mean(testscr), s = sd(testscr), n = n())\n\n4df_2 |&gt; kable()\n\n\n1\n\nla funzione cut per dividere str in 25 intervalli;\n\n2\n\ngroup_by suddivide Caschool in gruppi specificati da str_cat\n\n3\n\nsummarize calcola la media, la standard deviation e il numero di osservazioni per ciascun gruppo\n\n4\n\nkabble restituisce la tavole dei valori\n\n\n\n\n\n\n\nstr_cat\nm\ns\nn\n\n\n\n\n(14,14.5]\n646.0500\n14.778549\n2\n\n\n(14.5,14.9]\n681.0750\n20.117197\n2\n\n\n(14.9,15.4]\n669.0583\n27.490814\n6\n\n\n(15.4,15.9]\n666.4300\n16.397313\n5\n\n\n(15.9,16.4]\n657.4625\n31.451677\n4\n\n\n(16.4,16.8]\n656.4000\n22.941905\n12\n\n\n(16.8,17.3]\n655.1200\n19.810342\n10\n\n\n(17.3,17.8]\n661.8417\n21.060798\n24\n\n\n(17.8,18.2]\n660.9820\n21.377905\n25\n\n\n(18.2,18.7]\n655.2611\n19.005516\n27\n\n\n(18.7,19.2]\n659.1279\n17.430926\n43\n\n\n(19.2,19.7]\n654.1674\n18.195814\n46\n\n\n(19.7,20.1]\n652.2074\n16.740564\n54\n\n\n(20.1,20.6]\n652.5538\n18.840601\n39\n\n\n(20.6,21.1]\n650.9581\n18.103751\n37\n\n\n(21.1,21.6]\n645.9219\n17.020841\n32\n\n\n(21.6,22]\n651.4000\n19.099852\n15\n\n\n(22,22.5]\n650.9208\n14.543992\n12\n\n\n(22.5,23]\n639.0750\n16.285659\n10\n\n\n(23,23.4]\n643.8833\n17.057669\n6\n\n\n(23.4,23.9]\n658.9750\n7.672091\n2\n\n\n(23.9,24.4]\n676.8500\nNA\n1\n\n\n(24.4,24.9]\n651.2000\nNA\n1\n\n\n(24.9,25.3]\n642.3833\n23.492216\n3\n\n\n(25.3,25.8]\n659.5750\n7.601398\n2\n\n\n\n\n\nAlcuni degli errori standard sono uguali a NA perché in almeno uno dei gruppi il numero di osservazioni è inferiore a 2, il numero minimo per poter calcolare una misura dispersione.\nManipolando df_2, possiamo calcolare le differenze nelle media campionarie fra due intervalli adiacenti.\n\n1df_3 &lt;- df_2 |&gt; mutate(Delta_str = paste0(str_cat, \"-\", lag(str_cat)),\n2               Delta_testscr = m - lag(m),\n3               stderr = sqrt(s^2/n + lag(s^2/n))) |&gt;\n4               select(Delta_str, Delta_testscr, stderr)\n\n5kable(df_3)\n\n\n1\n\nla variabile Delta_str è uguale alla differenza dei due intervalli ottenuta incollando paste0 l’intervallo di ciascuna riga con quella precedente (la funzione lag(m) associa il valore di m della riga precedente). Questa variabile è utile per annotare l’asse delle ascisse del grafico che produrremo prodotto in seguito.\n\n2\n\nDelta_str contiene la differenze delle medie campionari di due intervalli successivi. Queste differenze sono calcolate usando m - lag(m) e quindi Delta_testscr è uguale a m, la media per l’intervallo, meno il valore della media per l’intervallo che preceda la riga in considerazione (lag(m))\n\n3\n\nstderr è l’errore standard della differenza delle medie in ciascun intervallo che è uguale a\n\n4\n\nselezioniamo le variabili che ci servono per il grafico mediante la funzione select()\n\n5\n\nkable(df_3) formatta il data.frame come una tavolo html. La funzione kable è contenuta nel pacchetto knitr.\n\n\n\n\n\n\n\nDelta_str\nDelta_testscr\nstderr\n\n\n\n\n(14,14.5]-NA\nNA\nNA\n\n\n(14.5,14.9]-(14,14.5]\n35.0249939\n17.650880\n\n\n(14.9,15.4]-(14.5,14.9]\n-12.0166524\n18.119279\n\n\n(15.4,15.9]-(14.9,15.4]\n-2.6283122\n13.406411\n\n\n(15.9,16.4]-(15.4,15.9]\n-8.9675232\n17.351552\n\n\n(16.4,16.8]-(15.9,16.4]\n-1.0624949\n17.063496\n\n\n(16.8,17.3]-(16.4,16.8]\n-1.2799978\n9.116243\n\n\n(17.3,17.8]-(16.8,17.3]\n6.7216634\n7.597797\n\n\n(17.8,18.2]-(17.3,17.8]\n-0.8596676\n6.063179\n\n\n(18.2,18.7]-(17.8,18.2]\n-5.7208842\n5.626609\n\n\n(18.7,19.2]-(18.2,18.7]\n3.8667941\n4.521517\n\n\n(19.2,19.7]-(18.7,19.2]\n-4.9605207\n3.776710\n\n\n(19.7,20.1]-(19.2,19.7]\n-1.9599775\n3.519561\n\n\n(20.1,20.6]-(19.7,20.1]\n0.3464399\n3.780410\n\n\n(20.6,21.1]-(20.1,20.6]\n-1.5957303\n4.237894\n\n\n(21.1,21.6]-(20.6,21.1]\n-5.0362433\n4.232187\n\n\n(21.6,22]-(21.1,21.6]\n5.4781291\n5.776997\n\n\n(22,22.5]-(21.6,22]\n-0.4791768\n6.476697\n\n\n(22.5,23]-(22,22.5]\n-11.8458333\n6.644515\n\n\n(23,23.4]-(22.5,23]\n4.8083476\n8.661194\n\n\n(23.4,23.9]-(23,23.4]\n15.0916951\n8.827486\n\n\n(23.9,24.4]-(23.4,23.9]\n17.8749390\nNA\n\n\n(24.4,24.9]-(23.9,24.4]\n-25.6499634\nNA\n\n\n(24.9,25.3]-(24.4,24.9]\n-8.8166707\nNA\n\n\n(25.3,25.8]-(24.9,25.3]\n17.1916097\n14.589449\n\n\n\n\n\nSi noti che per prima riga la differenza delle medie è NA. Il motivo è che non c’è un intervallo con valori più piccoli di per poter calcolare la differenza. La seconda riga ci dice che \\[\n\\overline{testscr}_{str \\in (14.5,14.9]} - \\overline{testscr}_{str \\in (14,14.5]}  = 35.0249939,\n\\] e che quindi scuole con classi con \\((14.5,14.9]\\) studenti per insegnante hanno punteggi più alti di circa 35.0249939 punti rispetto a quelle con \\(str\\in (14,14.5]\\). Questo valore positivo (classi più piccole hanno test score più bassi) e molto grande (quasi due volte la deviazione standard dei punteggi in tutto il campione) è dovuto al fatto che stiamo stimando la differenza dei valori attesi usando soltanto 4 scuole. Un numero troppo esigue per aspettarci che la stima sia in qualche modo “vicina” a quella che potremmo stimare se avessimo a disposizione i dati nel campione.\nLa terza riga ci dice che \\[\n\\overline{testscr}_{str \\in (14.9,15.4]} - \\overline{testscr}_{str \\in (14.5,14.9]}  = -12.0166524,\n\\] e che quindi scuole con \\(str\\in (14.9,15.4]\\) hanno punteggi più alti di circa -12.0166524 punti rispetto a quelle con \\(str\\in (14.5,14.9]\\). E così via per le altre righe.\nE’ molto probabile che tutte le stime e non soltanto quelle della prima riga siano particolarmente imprecise visto che sono tutte basate su un numero esiguo di osservazioni. Per quantificare la loro precisione, o la loro imprecisione, possiamo costruire l’intervallo di confidenza (al 95%) per ciascun valore dell’intervallo di \\(str\\). L’intervallo di confidenza al 95% è:\n\nc(df_3$Delta_testscr - 1.96 * df_3$stderr,\n  df_3$Delta_testscr + 1.96 * df_3$stderr)\n\ndove stderr è l’errore standard della differenza delle media che è stato calcolato nel precdedente blocco di codice.\nPer aggiungere l’intervallo di confidenza a df_3 possiamo usare dplyr e la funzione mutate:\n\ndf_3 &lt;- df_3 |&gt;\n1  mutate(ci_sx = Delta_testscr - 1.96 * stderr,\n2         ci_dx = Delta_testscr + 1.96 * stderr)\n\nkable(df_3)\n\n\n1\n\nl’estremo sinistro dell’intervallo di confidenza;\n\n2\n\nl’estremo destro dell’intervallo di confidenza;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDelta_str\nDelta_testscr\nstderr\nci_sx\nci_dx\n\n\n\n\n(14,14.5]-NA\nNA\nNA\nNA\nNA\n\n\n(14.5,14.9]-(14,14.5]\n35.0249939\n17.650880\n0.4292697\n69.620718\n\n\n(14.9,15.4]-(14.5,14.9]\n-12.0166524\n18.119279\n-47.5304392\n23.497134\n\n\n(15.4,15.9]-(14.9,15.4]\n-2.6283122\n13.406411\n-28.9048769\n23.648253\n\n\n(15.9,16.4]-(15.4,15.9]\n-8.9675232\n17.351552\n-42.9765654\n25.041519\n\n\n(16.4,16.8]-(15.9,16.4]\n-1.0624949\n17.063496\n-34.5069476\n32.381958\n\n\n(16.8,17.3]-(16.4,16.8]\n-1.2799978\n9.116243\n-19.1478335\n16.587838\n\n\n(17.3,17.8]-(16.8,17.3]\n6.7216634\n7.597797\n-8.1700183\n21.613345\n\n\n(17.8,18.2]-(17.3,17.8]\n-0.8596676\n6.063179\n-12.7434989\n11.024164\n\n\n(18.2,18.7]-(17.8,18.2]\n-5.7208842\n5.626609\n-16.7490376\n5.307269\n\n\n(18.7,19.2]-(18.2,18.7]\n3.8667941\n4.521517\n-4.9953794\n12.728967\n\n\n(19.2,19.7]-(18.7,19.2]\n-4.9605207\n3.776710\n-12.3628722\n2.441831\n\n\n(19.7,20.1]-(19.2,19.7]\n-1.9599775\n3.519561\n-8.8583162\n4.938361\n\n\n(20.1,20.6]-(19.7,20.1]\n0.3464399\n3.780410\n-7.0631635\n7.756043\n\n\n(20.6,21.1]-(20.1,20.6]\n-1.5957303\n4.237894\n-9.9020023\n6.710542\n\n\n(21.1,21.6]-(20.6,21.1]\n-5.0362433\n4.232187\n-13.3313288\n3.258842\n\n\n(21.6,22]-(21.1,21.6]\n5.4781291\n5.776997\n-5.8447856\n16.801044\n\n\n(22,22.5]-(21.6,22]\n-0.4791768\n6.476697\n-13.1735022\n12.215148\n\n\n(22.5,23]-(22,22.5]\n-11.8458333\n6.644515\n-24.8690823\n1.177416\n\n\n(23,23.4]-(22.5,23]\n4.8083476\n8.661194\n-12.1675926\n21.784288\n\n\n(23.4,23.9]-(23,23.4]\n15.0916951\n8.827486\n-2.2101770\n32.393567\n\n\n(23.9,24.4]-(23.4,23.9]\n17.8749390\nNA\nNA\nNA\n\n\n(24.4,24.9]-(23.9,24.4]\n-25.6499634\nNA\nNA\nNA\n\n\n(24.9,25.3]-(24.4,24.9]\n-8.8166707\nNA\nNA\nNA\n\n\n(25.3,25.8]-(24.9,25.3]\n17.1916097\n14.589449\n-11.4037108\n45.786930\n\n\n\n\n\nCome si vede chiaramente dall’analisi della tabella, tutti gli intervalli di confidenza sono molto ampi. Come preannunciato, i dati a nostra disposizione non sono abbastanza informativi per poter stimare tutte le differenze su intervalli così poco numerosi. Anche nel caso in cui considerassimo la differenza delle medie in scuole con \\(str\\in(18.7,19.2]\\) (27 scuole) e scuole con \\(str\\in (18.2,18.7]\\) (47 scuole), l’intervallo di confidenza è molto ampio: \\((-4.9953794, 12.7289675)\\). Un intervallo di confidenza così ampio implica che non possiamo neanche quantificare con l’appropriata confidenza il segno della differenza che potrebbe essere -12 o 2.\nLa rappresentazione grafica delle informazioni contenute in una tavole facilita spesso la comprensione dei risultati.\n\n1ggplot(df_3, aes(x=Delta_str,y=Delta_testscr)) +\n2  geom_pointrange(aes(ymin=ci_sx, ymax=ci_dx)) +\n3  geom_hline(yintercept = 0, col = \"darkred\") +\n  theme_bw() +\n  xlab(\"Intervalli str\") + ylab(\"Delta Media testscr\") +\n4  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))\n\n\n1\n\nsull’ascissa abbiamo la differenza degli intervalli, sull’ordinata la differenza delle medie;\n\n2\n\nla geometria utilizzata è geom_pointrange, che “plotta” la differenza delle medie (il punto) e l’intervallo di confidenza al 95% definito da ((ci_sx, ci_dx)) e rappresentato dalle linee che si estendono verticalmente.\n\n3\n\ngeom_hline(yintercept=0, col = \"darkred\") produce una riga orizzonate di colore rosso scuro\n\n4\n\nle etichette dell’asse della x sono ruotate di 90 gradi per favorire la loro leggibilità.\n\n\n\n\n\n\n\nIl grafico mostra che:\n\nLa stima di molte delle differenze è negativa\nTutti gli intervalli di confidenza sono troppo ampi per poter concludere con l’appropriata confidenza che il valore della differenza nella popolazione è di uno specifico segno\nIn tre casi non è possibile costruire l’intervallo di confidenza."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "\n            Econometria | 1018133\n        ",
    "section": "",
    "text": "Econometria | 1018133\n        \n        \n            \n        \n        \n            Anno Accademico 2022/2023Dipartimento di Economia e DirittoLaurea triennale in Economia e FinanzaSapienza, Sapienza, Università di Roma\n        \n    \n    \n      \n        \n        \n        \n      \n    \n\n\n\n\n\nDocente\n\n   Prof. Giuseppe Ragusa\n   Viale del Castro Laurenziano, 9\n   Str \"giuseppe.ragusa@uniroma1.it\"\n   Prenotazione ricevimento\n\n\n\nCourse details\n\n   Lunedì, Martedì e Venerdì\n   20 february, 2023 - 1 giugno 2023\n   (L&V) 10:00–12:00 (M) 14:00-15:00\n   (L&M) Aula 10 (V) Aula 3\n\n\n\nContatti\nPrima di inviare una E-mail assicuratevi 1. che le vostre domande non trovino risposta nel materiale pubblicato sul sito; 2. di usare come soggetto del messaggio [Econometria]; 3. di utilizzare un tono, una sintassi e un’ortografia adeguati.\nNon verranno prese in considerazione E-mail che non soddisfano questi tre requisiti."
  },
  {
    "objectID": "materiale.html",
    "href": "materiale.html",
    "title": "Materiale didattico",
    "section": "",
    "text": "Questa pagina contiene i collegamenti al materiale didattico del corso. (Nella sidebar qui a sinistra)\nIl materiale didattico è organizzato per lezione e a ciscuna lezione è associato\n\nle slide ()\ndispense R in formato html ()\nil codice R in formato Rmd in formato Rmd ()\nletture consigliate ()\n\nI collegamenti (a sinistra) si attiveranno in sincrono con la progressione del corso."
  },
  {
    "objectID": "programma.html",
    "href": "programma.html",
    "title": "Programma del corso",
    "section": "",
    "text": "Programma del corso Questa pagina contiene il programma dettagliato del corso.\n\n\n\n\n\nLezione\nData\nArgomento\nLetture\nMateriale\n\n\n\n\n1\n20/02/23\nIntroduzione all'econometria\nCap. 1\nSlides\n\n\n2\n27/02/23\nRichiami di probabilità e statistica\nCap. 2-3\n\n\n\nModello Lineare Univariato\n\n\n3\n01/03/23\nFormalizzazione e stima dei coefficienti\nCap. 4\n\n\n\n4\n03/03/23\nPredizioni ed effetti causali\n\n\n\n\n5\n06/03/23\nInferenza sui coefficienti\n\n\n\n\n6\n08/03/23\nR e il modello lineare\n\n\n\n\nModello Lineare Multivariato\n\n\n7\n13/03/23\nDistorsioni da variabili omesse\nCap. 5\n\n\n\n8\n15/03/23\nStima dei parametri\n\n\n\n\n9\n17/03/23\nInferenza su singoli parametri\n\n\n\n\n10\n20/03/23\nInferenza su più parametri\n\n\n\n\n11\n22/03/23\nTutti i modelli sono sbagliati, alcuni sono utili\n\n\n\n\n12\n24/03/23\nVariabili misurate con errore\n\n\n\n\nEconometria in azione (I)\n\n\n13\n27/03/23\nIl caso dei salari italiani\nSlides\n\n\n\nFunzioni di regressioni non lineari\n\n\n14\n29/03/23\nPolinomi e trasformazioni logaritmiche\nCap. 6\n\n\n\n15\n31/03/23\nInterazioni fra variabili\n\n\n\n\nRegressione con variabile dipendente binaria\n\n\n16\n03/04/23\nModelli Logit e Probit: motivazioni\nCap. 9\n\n\n\n17\n05/04/23\nStima dei coefficienti e inferenza\n\n\n\n\n18\n12/04/23\nClasificazione e predire di probabilità\n\n\n\n\nValutazione di studi basati sulla regressione multipla\n\n\n19\n14/04/23\nValidità interna e validità esterna\nCap. 7\n\n\n\nDati Panel\n\n\n20\n17/04/23\nCaratteristiche dei dati panel\nCap. 8\n\n\n\n21\n19/04/23\nRegressioni in differenza\n\n\n\n\n22\n21/04/23\nRegressioni con effetti fissi\n\n\n\n\n23\n26/04/23\nInferenze in dati panel\n\n\n\n\nEconometria in azione (II)\n\n\n24\n28/04/23\nArmi e crimine\nSlides\n\n\n\nVariabili Strumentali\n\n\n25\n03/05/23\nIntroduzione variabili strumentali\nCap. 10\n\n\n\n26\n05/05/23\nIl modello di regressione IV\n\n\n\n\n27\n08/05/23\nInferenza con strumenti forti\n\n\n\n\n28\n10/05/23\nInferenza con strumenti deboli\n\n\n\n\nEconometria in azione (III)\n\n\n29\n12/05/23\nIl valore dell'istruzione\n\n\n\n\nEsperimenti e quasi-esperimenti\n\n\n30\n15/05/23\nEsperimenti ideali ed effetti causali\nCap. 11\n\n\n\n31\n17/05/23\nStima degli effetti causali con esperimenti\n\n\n\n\n32\n19/05/23\nQuasi-esperimenti\n\n\n\n\nRegressioni per serie temporali di tipo economico\n\n\n33\n22/05/23\nPrevisioni economiche\nCap. 12-13\n\n\n\n34\n24/05/23\nCorrelazione seriale e stazionarietà\n\n\n\n\n35\n26/05/23\nQualità delle previsioni multiperiodali\n\n\n\n\n36\n29/05/23\nStima degli effetti causali dinamici"
  },
  {
    "objectID": "syllabus.html",
    "href": "syllabus.html",
    "title": "Syllabus",
    "section": "",
    "text": "Prof. Giuseppe Ragusa\n   Viale del Castro Laurenziano, 9\n   Str \"giuseppe.ragusa@uniroma1.it\"\n   Schedule an appointment\n\n\n\n\n\n   Lunedì, Martedì e Venerdì\n   20 february, 2023 - 1 giugno 2023\n   (L&V) 10:00–12:00 (M) 14:00-15:00\n   (L&M) Aula 10 (V) Aula 3"
  },
  {
    "objectID": "syllabus.html#descrizione-del-corso",
    "href": "syllabus.html#descrizione-del-corso",
    "title": "Syllabus",
    "section": "Descrizione del corso",
    "text": "Descrizione del corso\nL’obiettivo del corso è quello di introdurre gli studenti allo studio dell’econometria mediante un approccio prevalentemente applicato. Sebbene il corso si concentra sia sugli aspetti teorici sia su quelli pratici della disciplina, l’enfasi è sulla comprensione intuitiva dei concetti fondamentali della materia e sulla loro applicazione empirica su temi microeconomici, macroeconomici e finanziari."
  },
  {
    "objectID": "syllabus.html#obiettivi-del-corso",
    "href": "syllabus.html#obiettivi-del-corso",
    "title": "Syllabus",
    "section": "Obiettivi del corso",
    "text": "Obiettivi del corso\nAl termine del corso lo studente dovrà essere in grado di svolgere autonomamente un’analisi empirica ed interpretarne i risultati, valutando l’adeguatezza delle assunzioni necessarie per la correttezza delle interpretazioni.\nIn particolare, lo studente sarà in grado di\n\nSpiegare la filosofia dei modelli introdotti e la loro capacità di catturare relazioni causali o di fornire predizioni di buona qualità;\nValutare l’adeguatezza delle assunzioni sottostanti i modelli econometrici;\nValutare la qualità delle predizioni mediante rigorose misure statistiche;\nUsare R per stimare e valutare i modelli econometrici su dati reali."
  },
  {
    "objectID": "syllabus.html#libro-di-testo",
    "href": "syllabus.html#libro-di-testo",
    "title": "Syllabus",
    "section": "Libro di testo",
    "text": "Libro di testo\n\n\n\n\n\nIl libro di testo utilizzato in questo corso è:\nStock, J. H. e Watson, M.W: Introduzione all’econometria, Pearson Italia, 2005."
  },
  {
    "objectID": "syllabus.html#software",
    "href": "syllabus.html#software",
    "title": "Syllabus",
    "section": "Software",
    "text": "Software\n\n\n\n\n\nIl corso prevede l’utilizzo di R, uno dei linguaggi di programmazione statistico/econometrico più diffusi e potenti.\nR ha una licenza open-source (GNU GPL), è compatibile con i maggiori sistemi operativi (GNU/Linux, macOS, Microsoft Windows)."
  },
  {
    "objectID": "syllabus.html#orari-di-ricevimento",
    "href": "syllabus.html#orari-di-ricevimento",
    "title": "Syllabus",
    "section": "Orari di ricevimento",
    "text": "Orari di ricevimento\nGli orari di ricevimento sono:\n\n\n\nGiorno\nOrario\n\n\n\n\nLunedì\n15:00-16:00\n\n\nMercoledì\n12:00-13:00\n\n\n\nE’ obbligatorio prenotare un appuntamento utilizzando questo link:"
  },
  {
    "objectID": "syllabus.html#modalità-di-valutazione",
    "href": "syllabus.html#modalità-di-valutazione",
    "title": "Syllabus",
    "section": "Modalità di valutazione",
    "text": "Modalità di valutazione\nLa modalità di esame consiste in una prova scritta e una verifica orale."
  }
]